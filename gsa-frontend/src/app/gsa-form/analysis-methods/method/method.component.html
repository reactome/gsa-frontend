<mat-expansion-panel *ngrxLet="{method: method$, parameters: parameters$, selected: selected$} as vm"
  (closed)="updateScroll()" (opened)="updateScroll()"
  [ngClass]="{'chosen': vm.selected}"
  [expanded]="vm.selected"
  hideToggle class="mat-elevation-z3">
  <mat-expansion-panel-header (click)="selectMethod()">
    <mat-panel-title class="bold">
      {{vm.method.name}}
    </mat-panel-title>

    <mat-panel-description>
      {{vm.method.description}}
    </mat-panel-description>
  </mat-expansion-panel-header>
  <div  class="grey-border flex-container vertical align-center justify-center">
    @for (param of vm.parameters; track paramTracker($index, param)) {
      <div class="param-line width-eighty">
        <gsa-method-parameter [parameter]="param" (parameterChange)="updateParam($event)"/>
      </div>
    }
    <button (click)="setToDefault(vm.parameters)" class="margin-top-20" class="primary" mat-raised-button>Reset</button>
  </div>

</mat-expansion-panel>

